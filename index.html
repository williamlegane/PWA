<!DOCTYPE html>
<html>
    <head>
        <link rel="manifest" href="/manifest.json">
    </head>
<body>
    <h1>Introduction to Progressive Web Application</h1>
    <p>Please monitor the console log on your browser(Developer console(F12))</p>
    <p>1. Make sure you are running this page from a local server or any server that runs html.</p>
    <p>2. When you first load this page on a server it wont show any active service worker. It needs to register first.</p>
    <p>3. Please realod the page to install and activate service worker.</p>
    <p>4. Go to browser application, under application panel and select 'Service Workers'.</p>
    <p>5. if you can see a service worker running then you completed this Introduction.</p>
<script>
  // Don't register the service worker
  // until the page has fully loaded
  window.addEventListener('load', () => {
    // Is service worker available?
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then(() => {
        console.log('Service worker registered!');
      }).catch((error) => {
        console.warn('Error registering service worker:');
        console.warn(error);
      });

          // Manual update
    navigator.serviceWorker.ready.then((registration) => {
        registration.update();
      });
    }

  });
</script>
</body>
</html>